$(document).ready(function () {
	$("#selectPortfolio-breakdown").select2({
		dropdownParent: $("#portfolioVarBreakdown-modal"),
	});

	if ($("#varOverallChart").length) {
		var varOverallData = [
			-2329333175.29, -493659583.33, 2694685924.54, 5267477273.91,
			5547672897.64, 4549382049.63, 5211919630.96, 2992564407.47,
			3110258065.85, 10440587523.06, 13254567340.42, 8431232681.92,
			2112119353.93, 440060913.32, -1602527848.88, 2432031817.72,
			237226779.15, -2623273568.1, -3775133184.7, -3616077506.83,
			-10096559524.72, -3643200307.25, 2634526556.78, 1690352900.24,
			2092867960.55, -4050454939.3, -9282652963.07, -2709398043.94,
			-1946609977.37, -3666636107.06, -1872685543.31, -3438055821.66,
			-3479080626.26, -4819784018.11, -4197078758.48, 2223351376.64,
			8505802010.75, 2213246517.49, 1572188454.02, 43366640.85,
			-10777877076.01, -19893830051.56, -24145105055.95, -23354228718.96,
			-28645878480.07, -32297960395.44, -33275887473.21, -31100118044.01,
			-33578873915.52, -33220669568.64, -22348928151.92, -14273484509.69,
			-8263112820.51, -8196516517.59, -28200519770.49, -30070169154.11,
			-24504836526.38, -21702728078.22, -19669196063.23, -25716660293.23,
			-30524760898.82, -25992611290.06, -24008238589.48, -25827544628.32,
			-3342664784.17, -5368531121.46, -13347703696.64, -13228712857.36,
			-28940195074.69, -22420774701.52, -11564632436.54, -19143296145.73,
			-25060784601.91, -19321842370.29, -16524092310.81, -19266755134.33,
			-14841807080.02, -18692009106.67, -4710512068.9, -6957463898.42,
			-13544526372.68, -12236328488.67, -10248908306.36, -15583637048.05,
			-12512359847.02, -4685921754.3, -4320014766.57, -1483320895.06,
			7060948794.91, 9925015031.1, 13437421243.41, 19490041177.17,
			18518536605.03, 18294798534.85, 28914854414.13, 26850248627.82,
			23193607635.11, 26370458839.06, 21077409266.06, 13888401300.63,
			10861021642.16, 5485620968.52, 7535439834.41, 13318684877.71,
			3559244488.32, 4709371791.44, 4021270772.6, 2432626129.44,
			1886910488.97, 8698509199.39, 4783016499.75, -6582507195.53,
			-7565271869.87, -5278371059.87, -6565287179.86, -8758390673.53,
			-9783946620.78, -10523622117.1, -12023720148.85, -15572257604.02,
			-10091612185.4, 3619844789.47, 562087426.28, -311842634.27,
			-1599537140.29, 564028853.05, -139511193.39, -1041199100.18,
			709724356.06, -439619838.09, 5276311.26, 7164730030.32,
			11977684616.61, 6330407139.41, 6362254862.32, 10593761465.45,
			5404956000.16, 11667610024.1, 12259267914.14, 11367478771.96,
			2127070008.34, -8166885380.82, -10764051648.66, -6850115902.65,
			-9601962379.86, -15540460123.04, -12679634752.67, -15024192235.72,
			-18590119309.31, -17187811597.52, -7138540146.31, -9684963979.27,
			-17231908.79, -4355252820.22, -4126948736.53, -10072955954.06,
			-1472509595.95, 3899194059.42, 840808521.75, 703418976.21,
			-733584474.58, 9954209986.1, -1705438685.61, -571518480.73,
			3174339576.79, 16810041067.59, 9359929374.91, -2492505502.07,
			3474562899.57, 11185906234.69, 8008806834.89, 1891288697.15,
			4605659740.76, 5528980134.11, 4582631133.14, 33892645.72,
			-1600631355.94, 988852721.17, -316395907.53, -2062263042.6,
			-1366134463.07, 2117312940.66, 5695714896.86, 7828373971.71,
			3140741739.87, 2358776158.65, 5879838707.58, 8619955344.89,
			6694094810.04, 9177649903.6, 7357209830.22, 7793163044.99,
			4765415223.05, 3792188198.17, 8162861268.9, 10905700497.75,
			2884978548.01, 3077127051.12, 6098247196.29, 4368398621.11,
			2787320682.31, 2510061221.15, 1733347686.68, -1220053262.88,
			1999784157.54, 384707797.0, 3005790599.93, 2133676022.6,
			801463001.65, -5999414936.86, -6118901797.15, -10377851029.88,
			-11362141485.27, -10460809102.33, -14036186687.6, -13211133698.57,
			-10390849004.5, -11772730724.1, -15795901797.7, -11804562080.69,
			-9014397915.46, -5207178311.06, -4071986693.51, -12480304016.78,
			-15603595343.93, -11346880214.64, -19967429280.74, -16840002431.1,
			-14036505420.54, -8462913107.21, -9100835562.38, -14399900559.12,
			-23191602020.85, -9169990559.54, -5109003253.63, -1985286612.92,
			4860657957.49, 2016806607.73, 3176311641.29, -2288521022.81,
			3542396761.97, 891662657.07, 10094426919.64, 6497505946.95,
			-273907851.96, -7644496758.74, -7819891857.78, -2821042256.83,
			564547302.34, 6627829850.94,
		];
		var varData = [
			-2.71716879e9, -9.71927534e8, -7.16948429e9, -2.46565074e8,
			-6.44366694e9, -1.69475634e10, -2.11055669e10, -1.2524407e10,
			-1.06505203e10, -1.49563445e10, -2.02658731e10, -1.81577359e10,
			-1.73638971e10, -1.4088394e10, -3.22696387e8, -7.75693079e8,
			-1.88148374e10, -8.15577684e9, -1.23467526e10, -8.11498683e7,
			-4.43662618e9, -1.05676932e10, -1.62274853e9, -4.53071242e8,
			-6.51203772e9, -1.88192605e9, -2.58528558e9, -1.6717181e8,
			-2.08191882e10, -1.496051e10, -3.42395661e9, -1.46412763e10,
			-5.58514871e9, -6.59024593e8, -1.19511683e10, -1.18886546e10,
			-8.6947735e9, -2.22651662e9, -1.09735903e10, -5.9972616e9,
			-7.26758892e9, -1.08610058e10, -4.4957679e9, -4.14009292e9,
			-3.49052311e8, -2.00930331e9, -4.6792648e9, -1.39385257e10,
			-1.06522277e10, -1.33669089e9, -8.14468198e9, -8.11767585e9,
			-7.63854312e9, -1.22998352e10, -1.43939484e10, -1.71106705e10,
			-8.15189879e9, -1.38553306e10, -4.12048678e9, -1.08508936e9,
			-9.97427984e9, -2.22626703e9, -2.29721886e9, -1.94300132e10,
			-1.94812817e10, -4.95274842e9, -4.15661243e9, -8.12883549e9,
			-7.23782097e9, -4.11759899e9, -1.03728418e9, -9.08189201e9,
			-1.20026761e10, -1.34618757e10, -8.43726396e9, -7.62164785e9,
			-4.18348932e9, -4.20533253e9, -1.91171183e10, -4.34147621e9,
			-3.15341876e9, -2.52746565e10, -1.85265387e10, -4.44796658e9,
			-1.74005175e10, -7.57799084e8, -1.76746944e10, -2.07057617e10,
			-9.12280526e9, -5.50009337e9, -1.26195601e9, -7.0157203e9,
			-5.27777e9, -5.08956475e9, -1.39325432e10, -6.18801555e9,
			-1.98931716e9, -6.15656702e9, -1.57576849e10, -1.3750247e10,
			-1.58321588e10, -5.03625223e9, -1.25192986e10, -8.7567014e9,
			-1.13722286e10, -6.06281347e9, -1.75536982e10, -3.80261871e10,
			-1.1968314e10, -2.39675481e9, -1.39125771e10, -1.80092535e10,
			-1.87560722e10, -1.3093557e10, -9.16703802e9, -1.82096438e10,
			-9.3633634e9, -1.69950568e10, -1.64617406e9, -1.0889282e10,
			-9.02150096e9, -2.06748299e8, -1.1483922e10, -6.08566076e9,
			-7.44460403e7, -6.09587793e9, -1.73194512e10, -1.28630746e10,
			-1.09806818e10, -2.04884632e10, -1.27362033e10, -2.80986115e9,
			-3.36899539e9, -1.61946538e10, -4.78225027e9, -1.3341504e10,
			-4.8285609e9, -9.48544897e9, -2.58087979e10, -1.59132157e10,
			-6.63678709e9, -1.42464511e9, -4.13149513e9, -1.46717619e10,
			-3.0135289e9, -7.25923195e9, -3.83820549e8, -1.76745647e10,
			-1.54148365e10, -1.59773335e10, -1.95509089e9, -1.23378207e10,
			-2.25196498e9, -1.2623303e10, -1.88541286e10, -2.25263032e10,
			-3.04313013e7, -4.61871652e9, -1.02427537e10, -3.08774541e9,
			-4.33018693e9, -1.68176857e10, -1.12830761e10, -4.50908644e9,
			-2.75781888e10, -2.4663987e9, -1.32186858e10, -6.61855938e9,
			-2.43990277e10, -2.03136745e10, -8.10345877e9, -3.44045479e9,
			-1.18684876e10, -6.2079741e9, -4.93009409e9, -5.5421636e9,
			-1.46231084e10, -1.45347184e10, -2.00476466e9, -1.08338432e10,
			-2.16103621e10, -1.0063869e10, -1.02776052e9, -1.82356086e10,
			-1.33644067e10, -5.02715623e9, -3.12279465e10, -4.60723747e9,
			-2.88145478e10, -2.43022591e9, -6.98850854e9, -8.05614582e9,
			-2.44026368e10, -8.91902111e9, -9.38096081e9, -2.87921125e9,
			-9.50039191e9, -1.00519327e10, -8.16581667e9, -1.75894704e9,
			-2.22350929e9, -2.13314196e10, -5.97100301e9, -5.43564537e9,
			-1.96551217e9, -7.91827353e9, -2.07893408e10, -1.03711706e10,
			-6.86024739e9, -1.05457425e10, -6.43825758e9, -6.42656019e9,
			-3.35551317e9, -1.41327981e10, -2.39733924e9, -1.17714075e10,
			-2.3582183e10, -1.70584166e9, -1.92302808e10, -1.39947365e10,
			-3.57453137e8, -1.08325267e10, -1.41470709e10, -1.81098449e9,
			-1.86133092e10, -1.17516183e10, -1.00847227e10, -2.32039941e10,
			-9.08764881e9, -2.1793177e10, -1.07248619e10, -3.5589459e9,
			-9.25547648e9, -1.74481189e9, -2.33507996e9, -4.57204236e9,
			-9.63509477e8, -5.80454962e9, -2.08045557e10, -3.37299804e9,
			-4.37541171e9, -5.21584872e9, -1.45367342e10, -2.54371635e9,
			-1.90962007e10, -3.36073034e9, -1.38348013e10, -1.68257468e10,
			-1.09804537e10, -2.55977824e10,
		];
		var colors = [];
		for (i = 0; i < varOverallData.length; i++) {
			if (varOverallData[i] < 0) {
				colors[i] = "#B33F40";
			} else {
				colors[i] = "#378F5B";
			}
		}
		var varOverallData = {
			labels: [
				0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
				18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,
				34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49,
				50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65,
				66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81,
				82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97,
				98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110,
				111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123,
				124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136,
				137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149,
				150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162,
				163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175,
				176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188,
				189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201,
				202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214,
				215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227,
				228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,
				241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251,
			],
			datasets: [
				{
					label: "P&L",
					data: varOverallData,
					backgroundColor: colors,
					hoverBackgroundColor: colors,
				},
				{
					label: "VaR",
					data: varData,
					borderColor: "#264674",
					// backgroundColor: "blue",
					type: "line",
					order: 0,
				},
			],
		};

		var varOverallOptions = {
			tooltips: {
				enabled: true,
			},
			hover: {
				animationDuration: 0,
			},
			scales: {
				xAxes: [
					{
						ticks: {
							beginAtZero: true,
							fontFamily: "'Open Sans Bold', sans-serif",
							fontSize: 11,
						},
						scaleLabel: {
							display: false,
						},
						gridLines: {},
					},
				],
				yAxes: [
					{
						gridLines: {
							display: true,
							color: "#fff",
							zeroLineColor: "#fff",
							zeroLineWidth: 0,
							ticks: { beginAtZero: true },
						},
						ticks: {
							beginAtZero: true,
							// maxTicksLimit: 2,
							fontFamily: "'Open Sans Bold', sans-serif",
							fontSize: 11,
						},
					},
				],
			},
			legend: {
				display: false,
			},
			maintainAspectRatio: true,
			pointLabelFontFamily: "Quadon Extra Bold",
			scaleFontFamily: "Quadon Extra Bold",
		};

		var varOverallCanvas = $("#varOverallChart").get(0).getContext("2d");
		var varOverallChart = new Chart(varOverallCanvas, {
			type: "bar",
			data: varOverallData,
			options: varOverallOptions,
			// plugins: transactionhistoryChartPlugins,
		});
	}

	if ($("#varComparison-chart").length) {
		var varCompData = {
			labels: ["90", "95", "97.5", "99"],
			datasets: [
				{
					label: "",
					data: [-22152.82, -20263.19, -14994.11, -12114.51],
					backgroundColor: [
						"#00d25b",
						"#82CD47",
						"#ffffff",
						"#2B3467",
						"#009EFF",
					],
					hoverBackgroundColor: "#B33F40",
				},
			],
		};

		var varCompOptions = {
			responsive: true,
			maintainAspectRatio: false,
			segmentShowStroke: false,
			cutoutPercentage: 70,
			elements: {
				arc: {
					borderWidth: 0,
				},
			},
			legend: {
				display: false,
			},
			tooltips: {
				enabled: true,
			},
		};
		var varCompCanvas = $("#varComparison-chart").get(0).getContext("2d");
		var varcompChart = new Chart(varCompCanvas, {
			type: "bar",
			data: varCompData,
			options: varCompOptions,
		});

		// Reset Chart
		$("#resetIbgpvo1Fx-chart").on("click", function () {
			ibgpvo1FxChart.data.labels = [
				"ICICI",
				"Federal",
				"CBI",
				"Kotak",
				"Indusland",
			];
			ibgpvo1FxChart.data.datasets[0].data = [
				293.82, 289.32, 70.5, 5.44, 5.34,
			];
			ibgpvo1FxChart.update();
		});
	}

	$("#selectPortfolio-Var").on("select2:select", function () {
		$("#varPortfolio-table").empty();
		var portfolio = $("#selectPortfolio-Var").val();
		var var_vector_dom = [
			-45377.299999999996, -46201.4, -46471.5, -46150.8, -46524.1,
			-45343.4, -43861.899999999994, -46027.799999999996, -43798.2,
			-46160.100000000006, -44524.0, -44832.9, -45583.4, -46201.4,
			-45157.1, -48293.5, -44130.200000000004, -45891.7, -45333.2,
			-46126.1, -44129.899999999994, -45484.700000000004,
			-46545.299999999996, -43642.200000000004, -45404.5,
			-44112.700000000004, -43080.7, -45028.2, -44667.200000000004,
			-44917.9, -44664.1, -42989.3, -43752.0, -42671.899999999994,
			-45127.200000000004, -42448.6, -43631.2, -43895.5, -42849.6,
			-45736.899999999994, -44110.0, -41908.100000000006, -43374.6,
			-42782.799999999996, -43631.2, -42520.299999999996, -41829.1,
			-43656.8, -43126.899999999994, -47350.299999999996, -43284.2,
			-44805.8, -43090.9, -41218.3, -43767.1, -42815.299999999996,
			-41717.9, -42474.399999999994, -42887.9, -44818.7, -45297.1,
			-47744.700000000004, -47796.5, -48518.5, -47960.8, -43751.4,
			-44109.2, -43632.0, -44585.600000000006, -42143.9,
			-43750.600000000006, -36706.1, -44253.6, -43831.3,
			-45367.600000000006, -37007.9, -42373.2, -41549.799999999996,
			-37830.6, -42307.9, -42257.799999999996, -42234.3, -42346.3,
			-42129.700000000004, -43583.100000000006, -74342.0, -45225.7,
			-45301.4, -46159.5, -46159.5, -100934.5, -45159.5,
			-43583.100000000006, -46159.5, -46581.899999999994, -45138.4,
			-45256.6, -48892.200000000004, -46159.5, -45568.9, -42624.3,
			-45140.200000000004, -44851.2, -45587.600000000006, -46547.0,
			-47784.799999999996, -41159.5, -44471.6, -45708.8, -47340.0,
			-51032.299999999996, -47855.8, -45399.899999999994, -48893.8,
			-48490.5, -48769.700000000004, -48151.0, -47705.299999999996,
			-48272.799999999996, -48788.7, -47630.5, -48174.2, -46755.4,
			-46215.0, -46535.4, -46525.200000000004, -33868.4, -47122.1,
			-47398.3, -47508.2, -52313.100000000006, -51141.6,
			-51523.100000000006, -51629.6, -48040.5, -51554.5, -48658.8,
			-33051.799999999996, -33136.3, -33139.299999999996, -33355.3,
			-33446.799999999996, -34010.5, -33299.7, -33787.7, -35501.9,
			-33227.7, -33413.0, -33669.0, -33413.0, -33608.1, -34111.2,
			-33570.5, -33469.5, -34496.0, -33755.0, -35870.6, -33186.0,
			-33259.7, -33050.9, -33285.0, -32978.0, -33907.399999999994,
			-33416.9, -33549.299999999996, -33508.5, -33446.1, -33342.8,
			-32620.8, -32600.4, -33446.1, -12756.999999999998, -33578.6,
			-33446.1, -33416.9, -25195.0, -33446.1, -33416.9,
			-32443.699999999997, -32608.899999999998, -32523.600000000002,
			-32635.4, -30980.7, -32083.2, -33099.4, -32787.7, -32801.4,
			-36258.8, -32243.5, -33233.7, -31902.5, -31841.9, -31816.7,
			-31841.9, -31816.7, -31581.100000000002, -31482.3,
			-31066.100000000002, -31065.100000000002, -30794.5,
			-30709.899999999998, -30817.7, -31512.3, -31461.100000000002,
			-31319.8, -31327.199999999997, -31731.0, -31383.1,
			-31497.800000000003, -31796.300000000003, -31745.300000000003,
			-31770.6, -31896.399999999998, -31386.5, -31829.3, -32038.4,
			-32104.1, -31324.2, -31530.4, -31410.4, -31722.1, -31925.0,
			-31539.699999999997, -30616.100000000002, -31317.600000000002,
			-31131.6, -31075.6, -31217.7, -30850.2, -30852.1, -31120.5,
			-30745.4, -31249.6, -30986.6, -31047.600000000002,
			-31002.600000000002, -30769.1, -31007.7, -30784.0, -31234.0,
			-30812.0, -30835.7, -31178.800000000003, -31269.8, -31191.0,
			-31150.2, -31262.399999999998, -31300.5, -31366.7,
			-31547.600000000002, -31403.600000000002, -31316.100000000002,
		];

		if (portfolio == "HFT") {
			pnl_vector = [
				3419.63, 2694.48, 12201.48, -5738.8, -14973.2, -24302.17,
				-16791.57, -13097.69, -15883.34, -1524.42, 2485.72, 5886.77,
				-6821.24, -11506.31, -3193.8, -9225.12, -8984.6, -12919.42,
				-5501.2, -6456.73, -15483.66, -8205.6, 761.42, -1994.5,
				-7674.04, -5857.4, -10256.83, 2412.5, 840.84, -6079.61,
				-9632.09, -8115.67, -9978.77, -15868.65, -13738.49, -10787.33,
				-5692.88, -14790.19, -7239.79, -7703.22, -11073.23, -11454.36,
				-13839.05, -15016.74, -13978.82, -11815.69, -11389.43,
				-10064.19, -20989.55, -26066.27, -20100.95, -23177.68,
				-13933.23, -6289.82, -15333.3, -18178.48, -15551.09, -13490.21,
				-12064.12, -8629.44, -11157.4, -8457.9, -13417.36, -18416.08,
				-10433.02, -15587.17, -15098.39, -12463.21, -17771.15,
				-17360.71, -15729.91, -6064.44, 1409.49, 12166.65, 9720.29,
				4918.43, 13690.33, 9977.76, 17990.06, 20305.0, 23627.59,
				12234.8, -766.18, -6468.52, -8019.93, -4477.26, -16309.98,
				-22175.73, -30371.72, -24600.82, -21948.93, -18712.09, -29932.2,
				10052.24, 18981.28, 28909.27, 49106.54, 59413.02, 69837.59,
				63210.19, 58376.33, 42086.02, 28376.06, 32638.71, 21788.35,
				17850.17, -9787.85, -10933.19, -20106.18, -21637.89, -30659.36,
				-44190.37, -57662.56, -30762.7, -22333.21, -21272.86, -25201.25,
				-31174.13, -27567.16, -24134.89, -13589.26, 10438.09, -2078.24,
				-15689.16, -21704.32, -20223.3, -12224.19, -10675.96, -8275.92,
				1338.63, 16931.32, 31600.02, 45079.06, 47103.71, 46580.65,
				45347.42, 46790.18, 47174.98, 41047.62, 39753.52, 22033.5,
				8902.55, 7971.46, -2690.07, 6079.7, 12370.84, 17598.72,
				14095.31, 24435.36, 15688.37, 17461.77, 18123.1, 13944.99,
				18767.93, 3255.93, -932.86, -3536.02, 1743.75, 1014.25,
				-1522.25, 177.06, 4474.3, -4513.99, -8771.21, 6789.06, 387.98,
				2642.46, 72.17, 228.26, 7458.86, 4435.43, 2338.16, 8621.5,
				9033.58, 4903.86, 8441.91, 5649.9, 4598.1, -286.21, 3407.34,
				10873.25, -1964.17, 3462.18, -547.0, 3968.1, 1195.06, 1707.22,
				6387.78, 2337.04, -4137.52, -7665.17, -7527.4, -12353.78,
				-12250.37, -14077.87, -10012.18, -5747.62, -9219.0, -11412.79,
				-5050.09, 4613.49, 1351.24, -532.54, -370.07, 3977.59, -3543.06,
				-19665.07, 265.11, -2334.26, -3730.13, -8035.97, -4616.61,
				4023.36, 6010.69, -677.44, 3634.17, 7365.39, 2764.84, 9188.3,
				8567.26, 14506.12, 10747.7, 7719.75, 8568.56, -594.32, -2213.66,
				-13474.85, -6808.0, -13445.13, -14539.64, -16804.8, -21498.38,
				-24070.35, -17352.01, -19952.02, -18411.63, -13925.33, -3972.57,
				7701.51, 1370.8, 508.45, 2634.81, 831.95, -1613.83, 2576.66,
				249.35, -3273.06, -6863.73, -8320.46, -1677.33,
			];
			var colors = [];
			for (i = 0; i < pnl_vector.length; i++) {
				if (pnl_vector[i] < 0) {
					colors[i] = "#B33F40";
				} else {
					colors[i] = "#378F5B";
				}
			}
			var options = {
				tooltips: {
					enabled: true,
				},
				hover: {
					animationDuration: 0,
				},
				scales: {
					xAxes: [
						{
							ticks: {
								beginAtZero: true,
								fontFamily: "'Open Sans Bold', sans-serif",
								fontSize: 11,
							},
							scaleLabel: {
								display: false,
							},
							gridLines: {},
						},
					],
					yAxes: [
						{
							gridLines: {
								display: true,
								color: "#fff",
								zeroLineColor: "#fff",
								zeroLineWidth: 1,
								ticks: { beginAtZero: true },
							},
							ticks: {
								beginAtZero: true,
								// maxTicksLimit: 2,
								fontFamily: "'Open Sans Bold', sans-serif",
								fontSize: 11,
							},
						},
					],
				},
				legend: {
					display: false,
				},
				maintainAspectRatio: true,
				pointLabelFontFamily: "Quadon Extra Bold",
				scaleFontFamily: "Quadon Extra Bold",
			};
			var data = {
				labels: [
					0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,
					17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,
					32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46,
					47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61,
					62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76,
					77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91,
					92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104,
					105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116,
					117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128,
					129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140,
					141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152,
					153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164,
					165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176,
					177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188,
					189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200,
					201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212,
					213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224,
					225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236,
					237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248,
					249, 250, 251,
				],
				datasets: [
					{
						label: "P&L",
						data: pnl_vector,
						backgroundColor: colors,
						hoverBackgroundColor: colors,
					},
					{
						label: "VaR",
						data: var_vector_dom,
						borderColor: "#264674",
						// backgroundColor: "blue",
						type: "line",
						order: 0,
					},
				],
			};

			var portfolioVarCanvas = $("#varPortfolioChart")
				.get(0)
				.getContext("2d");
			var portfolioVarChart = new Chart(portfolioVarCanvas, {
				type: "bar",
				data: data,
				options: options,
				// plugins: transactionhistoryChartPlugins,
			});
			var portfolioCanvas = document.getElementById("varPortfolioChart");
			string = `
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Portfolio</th>
						<th>VaR</th>
						<th>VaR Limit</th>
						<th>% Utilised</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Domestic</td>
						<td>308</td>
						<td>600</td>
						<td>51.37%</td>
					</tr>
					<tr>
						<td>IBG</td>
						<td>41</td>
						<td>200</td>
						<td>20.28%</td>
					</tr>
				</tbody>
			</table>
			`;

			$("#selectPortfolio-breakdown").on("select2:select", function () {
				var portfolio_breakdown = $("#selectPortfolio-breakdown").val();
				$("#portfolioVarBreakdown-table").empty();
				if (portfolio_breakdown == "Domestic") {
					t_string = `
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Product</th>
								<th>VaR</th>
								<th>VaR Limit</th>
								<th>% Utilised</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Bond</td>
								<td>-5</td>
								<td>45</td>
								<td>11.62%</td>
							</tr>
							<tr>
								<td>Derivative</td>
								<td>-49</td>
								<td>180</td>
								<td>27.27%</td>
							</tr>
							<tr>
								<td>Equity</td>
								<td>-2</td>
								<td>75</td>
								<td>3.21%</td>
							</tr>
							<tr>
								<td>Forex</td>
								<td>-318</td>
								<td>600</td>
								<td>51.37%</td>
							</tr>
						</tbody>
					</table>
					`;
				} else if (portfolio_breakdown == "IBG") {
					t_string = `
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Product</th>
								<th>VaR</th>
								<th>VaR Limit</th>
								<th>% Utilised</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Forex</td>
								<td>-8.29</td>
								<td>100</td>
								<td>8.29%</td>
							</tr>
							<tr>
								<td>Derivative</td>
								<td>-34</td>
								<td>225</td>
								<td>15.03%</td>
							</tr>
						</tbody>
					</table>
					`;
				}

				$("#portfolioVarBreakdown-table").append(t_string);
			});
		} else if (portfolio == "AFS") {
			pnl_vector = [
				1862.05820545, -19738.00744025, 21270.04640251, -1247.64024677,
				-20171.3559587, 26335.36676544, 6651.49809589, -11209.34383451,
				-2710.99814812, -4016.32343623, -676.64745125, 139.10035234,
				-3755.11071481, 15669.44324944, 12762.81893761, -1396.12086344,
				1056.47046994, 14857.89873474, -11630.47360394, -768.40789491,
				16944.54991787, -13105.17370771, 25826.31559587, 9327.30686178,
				-33583.72504754, -17603.60923515, 13750.93737039,
				17875.70978565, -2081.68940943, -14200.0223027, -4769.53283681,
				-46374.48484428, 19338.16599104, 15135.28679008, 14161.12995221,
				20254.4151243, 40514.98730603, 9022.31513636, -7320.99369122,
				-32008.45334841, -18400.52330949, -16183.15401315,
				11256.30921316, 2287.00028944, 11398.27823457, -26259.55177845,
				2657.45387046, -1557.73838489, -9180.73809668, -2694.43639471,
				-2813.82509293, -7750.9230125, 3233.92017941, -28902.9006707,
				-17949.84142988, -11611.15499693, -30389.23493233,
				-5038.15658609, -3554.03767139, -12272.76695578,
				-21145.41172281, -21633.72479101, 14688.480215, -17541.17600001,
				-7597.23912397, 33828.19468094, 31062.78839538, 4250.61396249,
				23288.75344355, 27276.59014755, -3251.04561154, -16711.48983658,
				602.05886052, 1842.00057947, -43427.94955637, 11864.57135829,
				1015.97488482, 2798.50741399, 5551.34802379, -11294.29096835,
				6612.36034371, -21669.87822096, 1227.29825153, -33200.64012289,
				-6366.81918075, 3171.36687382, -10865.8634166, 37950.68660427,
				-17014.38212749, 1445.5478486, -26076.40633082, 7440.55617569,
				-3841.62210106, -10965.62385942, -2618.46318524,
				-13800.00366439, -5956.24654398, 9271.59365391, -30879.72216464,
				-34007.1080753, -5625.44940442, 6543.17849741, -17241.53774101,
				-12738.85240481, 25189.61362563, -33738.64730565,
				24414.83184461, 5976.36935044, 2352.82576322, -13723.36592625,
				7040.83488044, -544.9938593, -15604.41185693, 20132.39113359,
				44387.76104636, 14659.6864316, 9722.37434403, 15597.97260751,
				5511.07226326, 14985.46029991, -37815.40862203, 1416.2417744,
				-4624.21912864, 7795.88626889, 6681.81433122, -10690.45089036,
				-17753.16578778, 12466.26143842, -10525.07477329,
				-17126.64086561, 17225.54311369, -18630.59686691, -4657.3860488,
				-425.44778725, -1628.71416217, -49229.02297526, 18712.45589118,
				-5416.77694581, 26955.21016674, 18948.98174879, -7383.60177973,
				29146.56261735, -10690.64527072, -24279.86525364,
				-34316.78963241, -9372.7367478, 15637.81203981, 4731.25388259,
				11094.28757716, 6153.0676023, 26046.5824365, 6079.09589938,
				-36382.92876217, -11049.28439516, 18977.56302732,
				33914.67230722, -3794.2436555, 6755.99302299, 6918.8788748,
				-6305.17737349, -26292.5277824, -20983.78332311, 18130.73899712,
				-19131.7602314, 14959.89159596, -11791.5315289, -14181.00990692,
				19303.45690242, 13775.23929471, -242.03739262, 6468.86247032,
				-2485.81095698, 37012.59088047, 3606.68186501, -22742.80697455,
				-10921.94172786, -2660.18469923, 3895.26468876, 8653.79889808,
				1669.16484713, 5826.90932801, -3804.61176255, 9274.84412722,
				-2100.36905532, 38899.77859945, 10547.31330689, 4583.03279989,
				-4246.7919271, -3934.85210398, -11754.21791455, 4076.12068759,
				6172.44186387, -10591.43148932, -14249.14699429, -9737.79222097,
				-16371.89226395, -11264.40757851, -22676.36382384,
				5414.00966342, 34753.5755785, 15530.17948746, 2859.74009541,
				21427.66853513, 12807.3198506, 31751.37068058, 17534.91467057,
				7384.10457928, -13700.88852244, 12869.99584461, 1088.02617746,
				-14160.0263376, -17861.95783257, -17825.87847581,
				-7158.95218175, 4345.20097307, 4074.39399003, -18163.24784091,
				-1345.69982548, 29013.5120205, 54419.66699563, -31806.49418156,
				8694.47295432, 18959.09849517, -10606.40465124, 2397.05058464,
				28826.90111929, 6622.09794608, -12891.48926957, -6789.1028243,
				17464.80712798, -1109.84419101, -19209.54567284, 766.82154858,
				-34268.79658674, 13429.49065459, 21140.89689126, 35808.4875235,
				-26773.10041075, -14798.44398188, -32860.65745638,
				12868.02323334, -2894.80954021, 4416.88766061, -30280.87865589,
				8006.83982941, 10297.99594891, -1492.93154264, 11543.12713399,
				-526.35001688, -907.40843014,
			];
			var colors = [];
			for (i = 0; i < pnl_vector.length; i++) {
				if (pnl_vector[i] < 0) {
					colors[i] = "#B33F40";
				} else {
					colors[i] = "#378F5B";
				}
			}
			var options = {
				tooltips: {
					enabled: true,
				},
				hover: {
					animationDuration: 0,
				},
				scales: {
					xAxes: [
						{
							ticks: {
								beginAtZero: true,
								fontFamily: "'Open Sans Bold', sans-serif",
								fontSize: 11,
							},
							scaleLabel: {
								display: false,
							},
							gridLines: {},
						},
					],
					yAxes: [
						{
							gridLines: {
								display: true,
								color: "#fff",
								zeroLineColor: "#fff",
								zeroLineWidth: 1,
								ticks: { beginAtZero: true },
							},
							ticks: {
								beginAtZero: true,
								// maxTicksLimit: 2,
								fontFamily: "'Open Sans Bold', sans-serif",
								fontSize: 11,
							},
						},
					],
				},
				legend: {
					display: false,
				},
				maintainAspectRatio: true,
				pointLabelFontFamily: "Quadon Extra Bold",
				scaleFontFamily: "Quadon Extra Bold",
			};
			var data = {
				labels: [
					0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,
					17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,
					32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46,
					47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61,
					62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76,
					77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91,
					92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104,
					105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116,
					117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128,
					129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140,
					141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152,
					153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164,
					165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176,
					177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188,
					189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200,
					201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212,
					213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224,
					225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236,
					237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248,
					249, 250, 251,
				],
				datasets: [
					{
						label: "P&L",
						data: pnl_vector,
						backgroundColor: colors,
						hoverBackgroundColor: colors,
					},
					{
						label: "VaR",
						data: var_vector_dom,
						borderColor: "#264674",
						// backgroundColor: "blue",
						type: "line",
						order: 0,
					},
				],
			};

			var portfolioVarCanvas = $("#varPortfolioChart")
				.get(0)
				.getContext("2d");
			var portfolioVarChart = new Chart(portfolioVarCanvas, {
				type: "bar",
				data: data,
				options: options,
				// plugins: transactionhistoryChartPlugins,
			});
			var portfolioCanvas = document.getElementById("varPortfolioChart");
			string = `
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Portfolio</th>
						<th>VaR</th>
						<th>VaR Limit</th>
						<th>% Utilised</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Domestic</td>
						<td>-3024</td>
						<td>6700</td>
						<td>45.14%</td>
					</tr>
					<tr>
						<td>IBG</td>
						<td>226</td>
						<td>800</td>
						<td>28.27%</td>
					</tr>
				</tbody>
			</table>
			`;

			$("#selectPortfolio-breakdown").on("select2:select", function () {
				var portfolio_breakdown = $("#selectPortfolio-breakdown").val();
				$("#portfolioVarBreakdown-table").empty();
				if (portfolio_breakdown == "Domestic") {
					t_string = `
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Product</th>
								<th>VaR</th>
								<th>VaR Limit</th>
								<th>% Utilised</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Bond</td>
								<td>-3045</td>
								<td>6200</td>
								<td>49.11%</td>
							</tr>
							<tr>
								<td>Equity</td>
								<td>-434</td>
								<td>1500</td>
								<td>28.97%</td>
							</tr>
						</tbody>
					</table>
					`;
				} else if (portfolio_breakdown == "IBG") {
					t_string = `
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Product</th>
								<th>VaR</th>
								<th>VaR Limit</th>
								<th>% Utilised</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Bond</td>
								<td>-226</td>
								<td>800</td>
								<td>28.27%</td>
							</tr>
						</tbody>
					</table>
					`;
				}

				$("#portfolioVarBreakdown-table").append(t_string);
			});
		}

		$("#varPortfolio-table").append(string);
		const header = "VaR Breakdown of " + portfolio + " Portfolio";
		$("#varPortfolio-heading").html(header);
	});
	$(document).scrollTop(0);
});
